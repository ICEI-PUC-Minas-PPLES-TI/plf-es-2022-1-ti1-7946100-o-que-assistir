<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>WhatWatch</title>
  <script
  src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
  integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI="
  crossorigin="anonymous"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>

</head>

<body onload="init()">
  <div>
    <form>
      <label for="nome">Nome:</label><br>
      <input type="text" id="nome" name="nome"><br>
      <label for="login">Login:</label><br>
      <input type="text" id="login" name="nome"><br>
      <label for="email">Email:</label><br>
      <input type="email" id="email" name="email"><br>
      <label for="senha">Senha:</label><br>
      <input type="password" id="senha" name="senha">
    </form>
    <div>
      <button>Criar</button>
      <button>Deletar</button>
      <button>Ler</button>
      <button>Mudar</button>
    </div>
  </div>
  <table id="usuarios" class="display">
    <thead>
      <tr>
        <th> Nome </th>
        <th> Login </th>
        <th> Email </th>
        <th> Senha </senha> 
      </tr>
    </thead>
    <tbody id="content">
    </tbody> 
  </table>  
  <script src="./crud.js"></script>
</body>
<script>
    let button = $('#sumbit');
    let input = $('input');
  
    function showValue(){
      input.value = "cole";
    }
    
    function init(){
        if(localStorage.getItem('usuarios') == null){
            localStorage.setItem('usuarios', JSON.stringify(dados));
            let Storagelocal = JSON.parse(localStorage.getItem('usuarios'));
            for(let i = 0; i < Storagelocal.usuarios.length; i++ ){
                $("#content").append(`
                    <tr> 
                      <td>${Storagelocal.usuarios[i].nome}</td>
                      <td>${Storagelocal.usuarios[i].login}</td>
                      <td>${Storagelocal.usuarios[i].email}</td>
                      <td>${Storagelocal.usuarios[i].senha}</td>
                    </tr>
                `)
            }
            $(document).ready( function () {
                $('#usuarios').DataTable();
            } );
        }else{
            let Storagelocal = JSON.parse(localStorage.getItem('usuarios'));
            for(let i = 0; i < Storagelocal.usuarios.length; i++ ){
                $("#content").append(`
                    <tr> 
                      <td>${Storagelocal.usuarios[i].nome}</td>
                      <td>${Storagelocal.usuarios[i].login}</td>
                      <td>${Storagelocal.usuarios[i].email}</td>
                      <td>${Storagelocal.usuarios[i].senha}</td>
                    </tr>
                `)
            }
            $(document).ready( function () {
                $('#usuarios').DataTable();
            } );
        }
    }
  
  </script>
</html>